{% extends 'base.html.twig' %}

{% block title %}Articles in {{ category.name }}{% endblock %}

{% block body %}
<div class="container mx-auto px-4 py-8">
    <h2 class="text-2xl font-bold mb-6">Articles in {{ category.name }}</h1>
    <form method="get" action="{{ path('app_articles_by_category', {'slug': category.slug}) }}" class="mb-6 flex justify-center">
        <div class="flex w-full max-w-lg">
            <input
                type="text"
                name="search"
                value="{{ app.request.get('search') }}"
                placeholder="Search for an article..."
                class="border border-gray-300 rounded-l-lg py-2 px-4 w-full focus:outline-none focus:ring-2 focus:ring-blue-500"
            >
            <button
                type="submit"
                class="bg-blue-500 text-white py-2 px-4 rounded-r-lg hover:bg-blue-600 transition-colors duration-200 flex items-center justify-center"
            >
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                </svg>
                Search
            </button>
        </div>
    </form>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {% for article in articles %}
            {% include 'components/article_card.html.twig' with {'article': article} only %}
        {% else %}
            <p class="col-span-full text-center text-gray-600">No articles found in this category.</p>
        {% endfor %}
    </div>
</div>
{% endblock %}